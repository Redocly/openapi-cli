"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _commander = _interopRequireDefault(require("commander"));

var _validate = require("./validate");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function cli() {
  _commander.default.arguments('<path>').option('-s, --no-frame', 'Print no codeframes with errors.', false).action(path => {
    process.stdout.write(`Will validate the ${path}\n`);
    const result = (0, _validate.validateFromFile)(path, {
      enableCodeframe: _commander.default.frame
    });
    process.stdout.write('Following results received:\n');
    console.log(_commander.default.opts());

    if (result.length > 0) {
      process.stdout.write('\n\n');
      result.forEach(entry => process.stdout.write(entry.prettyPrint()));
    } else {
      process.stdout.write('No errors found. Congrats!');
    }
  });

  if (process.argv.length === 2) process.argv.push('-h');

  _commander.default.parse(process.argv);
}

var _default = cli;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGkuanMiXSwibmFtZXMiOlsiY2xpIiwicHJvZ3JhbSIsImFyZ3VtZW50cyIsIm9wdGlvbiIsImFjdGlvbiIsInBhdGgiLCJwcm9jZXNzIiwic3Rkb3V0Iiwid3JpdGUiLCJyZXN1bHQiLCJlbmFibGVDb2RlZnJhbWUiLCJmcmFtZSIsImNvbnNvbGUiLCJsb2ciLCJvcHRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImVudHJ5IiwicHJldHR5UHJpbnQiLCJhcmd2IiwicHVzaCIsInBhcnNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxTQUFTQSxHQUFULEdBQWU7QUFDYkMscUJBQ0dDLFNBREgsQ0FDYSxRQURiLEVBRUdDLE1BRkgsQ0FFVSxnQkFGVixFQUU0QixrQ0FGNUIsRUFFZ0UsS0FGaEUsRUFHR0MsTUFISCxDQUdXQyxJQUFELElBQVU7QUFDaEJDLElBQUFBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXNCLHFCQUFvQkgsSUFBSyxJQUEvQztBQUNBLFVBQU1JLE1BQU0sR0FBRyxnQ0FBaUJKLElBQWpCLEVBQXVCO0FBQUVLLE1BQUFBLGVBQWUsRUFBRVQsbUJBQVFVO0FBQTNCLEtBQXZCLENBQWY7QUFDQUwsSUFBQUEsT0FBTyxDQUFDQyxNQUFSLENBQWVDLEtBQWYsQ0FBcUIsK0JBQXJCO0FBQ0FJLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixtQkFBUWEsSUFBUixFQUFaOztBQUNBLFFBQUlMLE1BQU0sQ0FBQ00sTUFBUCxHQUFnQixDQUFwQixFQUF1QjtBQUNyQlQsTUFBQUEsT0FBTyxDQUFDQyxNQUFSLENBQWVDLEtBQWYsQ0FBcUIsTUFBckI7QUFDQUMsTUFBQUEsTUFBTSxDQUFDTyxPQUFQLENBQWdCQyxLQUFELElBQVdYLE9BQU8sQ0FBQ0MsTUFBUixDQUFlQyxLQUFmLENBQXFCUyxLQUFLLENBQUNDLFdBQU4sRUFBckIsQ0FBMUI7QUFDRCxLQUhELE1BR087QUFDTFosTUFBQUEsT0FBTyxDQUFDQyxNQUFSLENBQWVDLEtBQWYsQ0FBcUIsNEJBQXJCO0FBQ0Q7QUFDRixHQWRIOztBQWdCQSxNQUFJRixPQUFPLENBQUNhLElBQVIsQ0FBYUosTUFBYixLQUF3QixDQUE1QixFQUErQlQsT0FBTyxDQUFDYSxJQUFSLENBQWFDLElBQWIsQ0FBa0IsSUFBbEI7O0FBRS9CbkIscUJBQVFvQixLQUFSLENBQWNmLE9BQU8sQ0FBQ2EsSUFBdEI7QUFDRDs7ZUFFY25CLEciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHJvZ3JhbSBmcm9tICdjb21tYW5kZXInO1xuaW1wb3J0IHsgdmFsaWRhdGVGcm9tRmlsZSB9IGZyb20gJy4vdmFsaWRhdGUnO1xuXG5mdW5jdGlvbiBjbGkoKSB7XG4gIHByb2dyYW1cbiAgICAuYXJndW1lbnRzKCc8cGF0aD4nKVxuICAgIC5vcHRpb24oJy1zLCAtLW5vLWZyYW1lJywgJ1ByaW50IG5vIGNvZGVmcmFtZXMgd2l0aCBlcnJvcnMuJywgZmFsc2UpXG4gICAgLmFjdGlvbigocGF0aCkgPT4ge1xuICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoYFdpbGwgdmFsaWRhdGUgdGhlICR7cGF0aH1cXG5gKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlRnJvbUZpbGUocGF0aCwgeyBlbmFibGVDb2RlZnJhbWU6IHByb2dyYW0uZnJhbWUgfSk7XG4gICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZSgnRm9sbG93aW5nIHJlc3VsdHMgcmVjZWl2ZWQ6XFxuJyk7XG4gICAgICBjb25zb2xlLmxvZyhwcm9ncmFtLm9wdHMoKSk7XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoJ1xcblxcbicpO1xuICAgICAgICByZXN1bHQuZm9yRWFjaCgoZW50cnkpID0+IHByb2Nlc3Muc3Rkb3V0LndyaXRlKGVudHJ5LnByZXR0eVByaW50KCkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKCdObyBlcnJvcnMgZm91bmQuIENvbmdyYXRzIScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGlmIChwcm9jZXNzLmFyZ3YubGVuZ3RoID09PSAyKSBwcm9jZXNzLmFyZ3YucHVzaCgnLWgnKTtcblxuICBwcm9ncmFtLnBhcnNlKHByb2Nlc3MuYXJndik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsaTtcbiJdfQ==